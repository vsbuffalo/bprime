from bgspy.slim import SlimRuns, read_params
from bgspy.samplers import ParamGrid

DATADIR = "../../data/slim_sims/validate/"
SLIM = '~/src/SLiM_build/slim'

SIM_OUTPUTS = ['treeseq.tree']

run = SlimRuns(config, dir=DATADIR, sampler=ParamGrid)
run.generate(SIM_OUTPUTS)

results = run.targets

rule validate:
  input: run.script
  output: 
    run.wildcard_output(suffix=SIM_OUTPUTS)
  shell:
    run.slim_call(slim_cmd=SLIM)

rule all:
  input: results
